<template name="addPaymentModal">
  <div id="addPaymetModal" class="modal modal-fixed-footer">
    <form id="insertPaymentForm">
      <div class="modal-header z-depth-1">
        <div class="row" style="margin-left: 0 !important;margin-right: 0 !important; margin-top: 1.2rem;">
          <div class="col l10">
            <h4>Add Payment</h4>
          </div>
          <div class="col l2" style="padding-right: 0">
            <a href="" class="modal-action modal-close right grey-text" id="closeModal">
              <i class="material-icons" id="closeModal">close</i>
            </a>
          </div>
        </div>
      </div>
      <div class="modal-content">
        <div class="edit-bill" id="editP">
            <div class="edit-bill">
              <div class="row" style="margin-top:3rem;padding-left: 1rem;">
                <div class="col l6">
                  <strong>Patient Name:</strong> {{bill.patient_name}}
                </div>
                <div class="col l6">
                  <strong>Agency:</strong> {{bill.agency_name}}
                </div>
              </div>
                <div class="row" style="margin-top:0rem">

                <div class="col l6">
                  <div class="row">
                    <div class="input-field">
                      <input value={{due}} name="amount" id="amount" type="text">
                      <label class="active" for="amount">Amount</label>
                    </div>
                    <span class="red-text" id="amountError" style="display: none"> Amount Type is required (can't be 0).</span>
                  </div>
                </div>
                <div class="col l6">
                  <div class="row">
                    <div class="input-field">
                      <input value={{due}} name="due" disabled id="due" type="text">
                      <label class="active" for="due">Due</label>
                    </div>
                  </div>
                </div>
              </div>
                <div class="row" style="margin-top:0rem">
                <div class="col l6">
                  <div class="row">
                    <div class="input-field">
                      <input value={{today}} name="date" id="newPaymentDate" type="text">
                      <label class="active" for="newPaymentDate">Date</label>
                    </div>
                  </div>
                </div>
                <div class="col l6" style="padding-left: 1rem;">
                    <div class="input-field payment_type_id">
                      <select id = "payment_type_id" name="payment_type_id">
                        <option value="" disabled selected>Select payment type</option>
                        {{#each paymentTypes}}
                            <option value="{{value}}">{{label}}</option>
                        {{/each}}
                      </select>
                      <label>Payment Type</label>
                    </div>
                  <span class="red-text" id="formError" style="display: none"> Payment Type is required.</span>
                </div>
              </div>
              <div class="row" style="margin-top: -1rem">
                <div class="col l12" id="paymentNoteField">
                  <div class="row">
                    <div class="input-field">
                      <input name="note" id="note" type="text">
                      <label class="active" for="note">Note</label>
                    </div>
                  </div>
                </div>
              </div>
          		<!-- <span class="red-text" id="formDateError" style = "display:none;margin-left:1rem;position:relative; bottom:1.5rem"> Error ! Can't add future payment</span> -->
            </div>

        </div>
      </div>
      <div class="modal-footer">
        <button title="Add payment" type="submit" class="btn blue white-text modal-action waves-effect waves-green btn-flat">Save</button>
      </div>
    </form>
    <div class="modal-footer">
      <button class="waves-effect waves-light btn red darken-2" id="write-off" {{checkDue}} style="margin-right:8rem">Add Write Off</button>
    </div>
    <style>
      .modal-header {
        background-color: #fafafa;
        width: 100%;
        height: 4rem;
        z-index: 1;
        padding-right: 24px;
        padding-left: 24px;
        position: absolute;
        top: 0;
      }

      .edit-bill .row .col {
        padding-bottom: 0;
      }
      .edit-bill .row {
        margin: -1rem -1rem 1rem 0;
      }
      .edit-bill .row .row:first-child {
        margin: 1rem -1rem 1rem 1rem;
        padding: 0;
      }

    </style>

  </div>
</template>
